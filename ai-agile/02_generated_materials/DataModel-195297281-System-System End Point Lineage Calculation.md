---
source: https://maoperatingsystem.atlassian.net/spaces/DataModel/pages/195297281/System-System+End+Point+Lineage+Calculation
confluence_id: 195297281
space: DataModel
version: 33
retrieved: 2026-01-23T12:36:39.585104
format: xhtml
content_hash: 04e881c5d2c1e04602580d49e8834a4d
macro_structured_macro: 2
macro_image: 0
macro_link: 0
---
About this DocumentThis quick one-pager provides a high-level approach for calculating “lineage complete” based on a minimal amount of information about the elements within a lineage map.  This proposes a minimum set of definitions that represent the start and end points of a lineage tree, along with an algorithm for traversing the tree “backwards” to calculate the depth from desired end points and then “forwards” to calculate a current understanding of lineage completeness.Note: This document does not establish a definition of “Authorised Source” which is specific to individual organisations' data governance policyTable of ContentsnonePhysical End Point Lineage CalculationAssumptionsAll the following refers to attributes and lineage typically provided by tech-based lineage work.This document provides a method for calculating “Lineage complete” using this data.  Any additional work to provide a logical view above or to prioritize critical versus non-critical paths can be applied on top of this in the future.This document does not attempt to account for “context-based lineage” and provides a worked example for a single lineage tree.In addition to the definitions contained in this document, we can logically determine if we believe the lineage is complete at a node and is considered an “authorized source”.Different policies may define different designations of data elements and criticalities. For the purposes of documenting an algorithm, here we are using;End Point Value (EPV) - an attribute in the lineage that represents the "end” of the combined physical lineage as the desired business outcomeAuthoritative Source (AS) - an attribute in the lineage that represents the "start” of a physical lineage path and has been confirmed as an official source.  No further decomposition is needed.CalculationsFor each node, we need to determineStatus - this is the classification of the node  - ie, EPV vs AS vs Complete (COM) vs Unknown (XX)Depth “back” from EPV - This is used to sequence the rollup of complete.  By definition, EPVs have backdepth=0.  Backward Depth is the minimum depth of all downstream nodes, plus 1.Note that this value needs to be calculated per endpoint, as different endpoints will have different paths to this point.Depth “forward” from AS - By definition, nodes identified as an Authoritative source have a fordepth=0.  Forward Depth is the maximum depth of hops to get to this point from all authoritative data sources, plus 1.Note that this value can only be calculated as authoritative sources are identified.Score - this is the current "completeness” of a node within the tree based on the average completeness of its upstream nodes.  (left to right)By definition, nodes designated as AS are complete - ie, score = 100% (1.0)By definition, nodes that are not AS and don't have lineage are incomplete, ie, score = 0%By definition, nodes that have lineage where some branches are complete are partial based on average scores of the branches - ie, 0%<score<100%By definition, nodes that have a score of 100% and not AR are status=COMAlgorithmNote: this is a “logical” description of the required algorithms - there may be more computationally practical approaches to achieving the below.Step #1 - Work “backwards” away from the EPVs to calculate the depth of each nodeStart with the population of nodes where status = EPV.  Set depth=0Identify upstream nodes, set depth = 1, and add them to the list.For each node in the list,calculate the minimum depth of upstream nodes.  Set depth to minimum+1Step #2 - Work “Forwards” through the path towards the EPVs to calculate the score for each nodeIdentify max depth.Find a list of nodes with this depth.For each node, If status = AS, set score = 100% Otherwise, calculate the score as the average score of upstream connections.Move to the next level and repeat.Example Chart21101960837401952972811Untitled Diagram-1755027778568.drawio11https://maoperatingsystem.atlassian.net/wikiUntitled Diagram-1755027778568.drawio0743autotop1007
